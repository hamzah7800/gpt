<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Artificial Consciousness Simulation Web App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0a0a0a;
      color: #f1f1f1;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    header {
      background: linear-gradient(90deg, #007bff, #00d4ff);
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 1.8em;
      letter-spacing: 1px;
    }
    #login-section, #main-app {
      max-width: 900px;
      margin: 30px auto;
      padding: 20px;
      background: #111;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    input, button, textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: none;
      border-radius: 5px;
      font-size: 1em;
    }
    input, textarea {
      background: #222;
      color: #eee;
    }
    button {
      background: #007bff;
      color: white;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #0056b3;
    }
    #chat-window {
      height: 300px;
      overflow-y: auto;
      background: #000;
      border: 1px solid #333;
      border-radius: 5px;
      padding: 10px;
      margin-bottom: 10px;
    }
    .message {
      margin: 8px 0;
    }
    .user {
      color: #00d4ff;
    }
    .bot {
      color: #0f0;
    }
    canvas {
      background: #111;
      border: 1px solid #333;
      border-radius: 5px;
      margin-top: 10px;
    }
    #logout {
      background: #dc3545;
    }
  </style>
</head>
<body>
  <header>üß† Artificial Consciousness Simulation Web App</header>

  <!-- Login Section -->
  <div id="login-section">
    <h2>Login</h2>
    <form id="login-form">
      <input type="text" id="username" placeholder="Username" required />
      <input type="password" id="password" placeholder="Password" required />
      <button type="submit">Login</button>
    </form>
    <p id="login-status"></p>
  </div>

  <!-- Main App Section -->
  <div id="main-app" style="display:none;">
    <h2>Welcome, <span id="user-display"></span></h2>
    <button id="logout">Logout</button>

    <h3>üí¨ Chat Simulation</h3>
    <div id="chat-window"></div>
    <textarea id="user-input" placeholder="Type your message..."></textarea>
    <button id="send-btn">Send</button>

    <h3>üìà Data Visualization</h3>
    <div id="chart"></div>

    <h3>üß© Cognitive Simulation</h3>
    <canvas id="consciousness-canvas" width="400" height="200"></canvas>

    <h3>ü§ñ Neural Network Model</h3>
    <p id="model-status">Loading TensorFlow model...</p>
  </div>

  <!-- External Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.20.0/dist/tf.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.4/d3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.0/math.min.js"></script>

  <script>
    let isLoggedIn = false;
    let model;

    // Simple login simulation
    async function handleLogin(event) {
      event.preventDefault();
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value.trim();
      const status = document.getElementById('login-status');

      if (username === 'admin' && password === 'password') {
        isLoggedIn = true;
        localStorage.setItem('isLoggedIn', 'true');
        localStorage.setItem('username', username);
        initializeChatbotUI();
      } else {
        status.textContent = '‚ùå Invalid credentials.';
      }
    }

    function initializeChatbotUI() {
      document.getElementById('login-section').style.display = 'none';
      document.getElementById('main-app').style.display = 'block';
      document.getElementById('user-display').textContent = localStorage.getItem('username');
      initTensorflowModel();
      drawCognitiveCanvas();
      generateSampleChart();
    }

    // Chat simulation
    document.getElementById('send-btn').addEventListener('click', handleMessage);

    function handleMessage() {
      const input = document.getElementById('user-input');
      const chatWindow = document.getElementById('chat-window');
      const message = input.value.trim();
      if (!message) return;

      chatWindow.innerHTML += `<div class="message user">You: ${message}</div>`;
      input.value = '';

      const response = simulateAIResponse(message);
      chatWindow.innerHTML += `<div class="message bot">AI: ${response}</div>`;
      chatWindow.scrollTop = chatWindow.scrollHeight;
    }

    function simulateAIResponse(msg) {
      const replies = [
        "That‚Äôs fascinating. Tell me more.",
        "I‚Äôm processing that thought...",
        "Interesting perspective!",
        "I sense a pattern in your words.",
        "Let‚Äôs explore this idea deeper."
      ];
      return replies[Math.floor(Math.random() * replies.length)];
    }

    // TensorFlow.js model
    async function initTensorflowModel() {
      const status = document.getElementById('model-status');
      try {
        model = await tf.loadLayersModel('https://tfhub.dev/google/tfjs-model/imagenet/mobilenet_v2_100_224/classification/3/default/1', {fromTFHub: true});
        status.textContent = "‚úÖ Model loaded successfully.";
      } catch (err) {
        status.textContent = "‚ö†Ô∏è Failed to load model. Running in fallback mode.";
        console.error(err);
      }
    }

    // Visualization using Plotly
    function generateSampleChart() {
      const x = Array.from({length: 20}, (_, i) => i);
      const y = x.map(i => Math.sin(i / 2));
      const trace = { x, y, type: 'scatter', mode: 'lines+markers' };
      Plotly.newPlot('chart', [trace], { margin: { t: 30 }, paper_bgcolor: '#111', plot_bgcolor: '#111', font: { color: '#fff' } });
    }

    // Consciousness visualization
    function drawCognitiveCanvas() {
      const canvas = document.getElementById('consciousness-canvas');
      const ctx = canvas.getContext('2d');
      let neurons = Array.from({length: 30}, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        dx: (Math.random() - 0.5) * 2,
        dy: (Math.random() - 0.5) * 2
      }));

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        neurons.forEach(n => {
          n.x += n.dx;
          n.y += n.dy;
          if (n.x < 0 || n.x > canvas.width) n.dx *= -1;
          if (n.y < 0 || n.y > canvas.height) n.dy *= -1;
          ctx.beginPath();
          ctx.arc(n.x, n.y, 3, 0, Math.PI * 2);
          ctx.fillStyle = '#0f0';
          ctx.fill();
        });
        requestAnimationFrame(draw);
      }
      draw();
    }

    // Logout
    document.getElementById('logout').addEventListener('click', () => {
      localStorage.clear();
      location.reload();
    });

    // Event listeners
    document.getElementById('login-form').addEventListener('submit', handleLogin);

    // Auto-login from storage
    window.addEventListener('load', () => {
      const storedLogin = localStorage.getItem('isLoggedIn');
      if (storedLogin === 'true') {
        initializeChatbotUI();
      }
    });
  </script>
</body>
</html>
